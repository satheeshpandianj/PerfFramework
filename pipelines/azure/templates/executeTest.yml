parameters:
  - name: script
    type: string

steps:
  - script: ${{parameters.script}}
    env:
      ELASTIC_PWD: $(ELASTIC_PWD)
      BROWSERSTACK_USERNAME: $(BROWSERSTACK_USERNAME)
      BROWSERSTACK_KEY: $(BROWSERSTACK_KEY) # Maps the secret variable $(token) from my-var-group
      QA_AWS_ACCESS_KEY_ID: $(QA_AWS_ACCESS_KEY_ID)
      QA_AWS_REGION: $(QA_AWS_REGION)
      QA_AWS_SECRET_ACCESS_KEY: $(QA_AWS_SECRET_ACCESS_KEY)
      VCC_API_PROD: $(VCC_API_PROD)
      VCC_API_QA: $(VCC_API_QA)
      VCC_API_TEST: $(VCC_API_TEST)
      ExtVeh_VCC_API_TEST: $(ExtVeh_VCC_API_TEST)
      ExtVeh_VCC_API_QA: $(ExtVeh_VCC_API_QA)
      ExtVeh_VCC_API_PROD: $(ExtVeh_VCC_API_PROD)
      ConVeh_VCC_API_PROD: $(ConVeh_VCC_API_PROD)
      ConVeh_VCC_API_TEST: $(ConVeh_VCC_API_TEST)
      QA_CREDENTIALS: $(QA_CREDENTIALS)
      CACHEPURGER_CLIENT_SECRET: $(CACHEPURGER_CLIENT_SECRET)
      SSG_CLIENT_SECRET: $(SSG_CLIENT_SECRET)
      CS_CLIENT_SECRET: $(CS_CLIENT_SECRET)
      VAPI_KEY: $(VAPI_KEY)
      GITHUB_TOKEN: $(GITHUB_TOKEN)
      BIG_QUERY_PRIVATE_KEY: $(BIG_QUERY_PRIVATE_KEY)
      BIG_QUERY_CLIENT_EMAIL: $(BIG_QUERY_CLIENT_EMAIL)
      BIG_QUERY_PROJECT_ID: $(BIG_QUERY_PROJECT_ID)
      AWS_DOCUMENTDB_PASSWORD: $(AWS_DOCUMENTDB_PASSWORD)
      AWS_DOCUMENTDB_USER: $(AWS_DOCUMENTDB_USER)
      AZURE_COSMOSDB_PASSWORD: $(AZURE_COSMOSDB_PASSWORD)
      AZURE_COSMOSDB_USER: $(AZURE_COSMOSDB_USER)
      BUILD_ID: $(BUILD_ID)
      SITECORE_USER_NAME: $(SITECORE_USER_NAME)
      SITECORE_PASSWORD: $(SITECORE_PASSWORD)
      X_Detectify_Key: $(X_Detectify_Key)
      ALI_BS_USERNAME: $(ALI_BS_USERNAME)
      ALI_BS_PASSWORD: $(ALI_BS_PASSWORD)
      USStoken: $(USStoken)
      AA_grant_type_QA: $(AA_grant_type_QA)
      AA_grant_type_Test: $(AA_grant_type_Test)
      AA_grant_type_Prod: $(AA_grant_type_Prod)
      AA_grant_type_Roles: $(AA_grant_type_Roles)
      AA_grant_type_Roles_Prod: $(AA_grant_type_Roles_Prod)
      ExpiredVolvoIdToken: $(ExpiredVolvoIdToken)
      VolvoID_Token_Pwd_Test: $(VolvoID_Token_Pwd_Test)
      VolvoID_Token_Pwd: $(VolvoID_Token_Pwd)
      VolvoID_Token_Pwd_Prod: $(VolvoID_Token_Pwd_Prod)
      USS_grant_type_Test: $(USS_grant_type_Test)
      USS_grant_type_QA: $(USS_grant_type_QA)
      USS_grant_type_Prod: $(USS_grant_type_Prod)
      Consumer_USS_grant_type_Test: $(Consumer_USS_grant_type_Test)
      Consumer_USS_grant_type_QA: $(Consumer_USS_grant_type_QA)
      Consumer_USS_grant_type_Prod: $(Consumer_USS_grant_type_Prod)
      CBVSubscriptionStatus_grant_type_QA: $(CBVSubscriptionStatus_grant_type_QA)
      CBVSubscriptionStatus_grant_type_Prod: $(CBVSubscriptionStatus_grant_type_Prod)
      CBVFleet_grant_type_QA: $(CBVFleet_grant_type_QA)
      CBVFleet_grant_type_Prod: $(CBVFleet_grant_type_Prod)
      CBVFleetTokenUrl: $(CBVFleetTokenUrl)
      PRICINGAPP_UNAME: $(PRICINGAPP_UNAME)
      PRICINGAPP_PASS: $(PRICINGAPP_PASS)
      STS_GMAIL_PASSWORD: $(STS_GMAIL_PASSWORD)
      QAF_ClientSecret: $(QAF_ClientSecret)
      EVENTHUB_CONNECTION_STRING: $(EVENTHUB_CONNECTION_STRING)
      EVENTHUB_NAME: $(EVENTHUB_NAME)
      TEST_AUTH_COOKIE: $(TEST_AUTH_COOKIE)
      QA_AUTH_COOKIE: $(QA_AUTH_COOKIE)
      CCE_TYRE_LABEL_API_KEY_PROD: $(CCE_TYRE_LABEL_API_KEY_PROD)
      CCE_TYRE_LABEL_API_KEY_STG: $(CCE_TYRE_LABEL_API_KEY_STG)
      CCE_TYRE_LABEL_API_KEY_DEV: $(CCE_TYRE_LABEL_API_KEY_DEV)
      CCE_GARAGE_SERVICE_BEARER_TOKEN_STG: $(CCE_GARAGE_SERVICE_BEARER_TOKEN_STG)
    displayName: Execute Test YAML